# Dataset List Creator - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `dataset.txt` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö RKNN Quantization (INT8)

---

## üìã ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

`create_dataset_txt.py` ‡πÄ‡∏õ‡πá‡∏ô Universal Tool ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (dataset list) ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ **Calibration** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö INT8 Quantization ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á ONNX model ‡πÄ‡∏õ‡πá‡∏ô RKNN model

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å:**
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢ Dataset (YOLO, Classification, Custom)
- ‚úÖ ‡∏™‡πÅ‡∏Å‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏ö Recursive (‡∏£‡∏ß‡∏°‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢)
- ‚úÖ ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Image Formats: `.jpg`, `.jpeg`, `.png`, `.bmp`, `.gif`, `.tiff`, `.webp`
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Command-line Arguments
- ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô `output/` folder
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö `<dataset>_dataset.txt`

---

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå

```
Data-set/
‚îú‚îÄ‚îÄ README.md                      # ‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ
‚îú‚îÄ‚îÄ create_dataset_txt.py          # ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á dataset.txt
‚îú‚îÄ‚îÄ bun_stage1_detection/          # Raw dataset ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö detection
‚îÇ   ‚îú‚îÄ‚îÄ train/
‚îÇ   ‚îú‚îÄ‚îÄ valid/
‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îú‚îÄ‚îÄ dataset_cls_stage2/            # Raw dataset ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö classification
‚îÇ   ‚îú‚îÄ‚îÄ train/
‚îÇ   ‚îî‚îÄ‚îÄ valid/
‚îî‚îÄ‚îÄ output/                        # üìÅ ‡πÑ‡∏ü‡∏•‡πå output ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
    ‚îú‚îÄ‚îÄ bun_train_dataset.txt      # ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå output
    ‚îú‚îÄ‚îÄ bun_valid_dataset.txt
    ‚îî‚îÄ‚îÄ ...
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** 
- ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `output/` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
- ‡πÑ‡∏ü‡∏•‡πå output ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô `output/` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‚öôÔ∏è Syntax ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

```bash
python3 create_dataset_txt.py -i <‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û> -d <‡∏ä‡∏∑‡πà‡∏≠ dataset>
```

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ:**
- ‡πÑ‡∏ü‡∏•‡πå output ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà `output/<‡∏ä‡∏∑‡πà‡∏≠dataset>_dataset.txt`
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ path ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå output
- ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `output/` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ

---

## üìñ Step-by-Step Guide

### Step 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Dataset

‡∏ß‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÄ‡∏ä‡πà‡∏ô:
- `bun_stage1_detection/train/images/` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö YOLO detection)
- `dataset_cls_stage2/train/` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö classification)

### Step 2: ‡πÄ‡∏õ‡∏¥‡∏î Terminal ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Data-set

```bash
cd /home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set
```

### Step 3: ‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå

```bash
python3 create_dataset_txt.py -i <‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û> -d <‡∏ä‡∏∑‡πà‡∏≠dataset>
```

### Step 4: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

‡πÑ‡∏ü‡∏•‡πå output ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà `output/<‡∏ä‡∏∑‡πà‡∏≠dataset>_dataset.txt`

```bash
ls -lh output/
cat output/<‡∏ä‡∏∑‡πà‡∏≠dataset>_dataset.txt | head -10
```

---

## üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á dataset.txt ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Training Set

```bash
python3 create_dataset_txt.py \
    -i ./bun_stage1_detection/train/images \
    -d bun_train
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** 
- ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á: `output/bun_train_dataset.txt`
- ‡∏™‡πÅ‡∏Å‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå (‡∏£‡∏ß‡∏°‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢)

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á dataset.txt ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Validation Set

```bash
python3 create_dataset_txt.py \
    -i ./bun_stage1_detection/valid/images \
    -d bun_valid
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** 
- ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á: `output/bun_valid_dataset.txt`

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 3: ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (500 ‡∏£‡∏π‡∏õ)

```bash
python3 create_dataset_txt.py \
    -i ./dataset_cls_stage2/train \
    -d cls_train \
    -n 500
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** 
- ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á: `output/cls_train_dataset.txt`
- ‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û **500 ‡∏£‡∏π‡∏õ‡πÅ‡∏£‡∏Å**

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 4: ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢)

```bash
python3 create_dataset_txt.py \
    -i ./images \
    -d mydata \
    --no-recursive
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** 
- ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á: `output/mydata_dataset.txt`
- ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `images` ‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 5: ‡πÉ‡∏ä‡πâ Absolute Path

```bash
python3 create_dataset_txt.py \
    -i /home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/bun_stage1_detection/train/images \
    -d bun_full \
    -n 1000
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** 
- ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á: `output/bun_full_dataset.txt`
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î 1000 ‡∏£‡∏π‡∏õ

---

## ‚öôÔ∏è ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

| Parameter | Short | Required | Default | Description |
|-----------|-------|----------|---------|-------------|
| `--images` | `-i` | ‚úÖ Yes | - | ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö absolute/relative path) |
| `--name` | `-d` | ‚úÖ Yes | - | ‡∏ä‡∏∑‡πà‡∏≠ dataset (‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô `<name>_dataset.txt`) |
| `--max-files` | `-n` | ‚ùå No | `None` | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ = ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î) |
| `--no-recursive` | - | ‚ùå No | `False` | ‡πÑ‡∏°‡πà‡∏™‡πÅ‡∏Å‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢ |
| `--help` | `-h` | ‚ùå No | - | ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÑ‡∏ü‡∏•‡πå output ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà `output/<name>_dataset.txt`
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå `--output` ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ

---

## üìÇ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå Output

### ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå

‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà:
```
/home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/output/
```

### ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå

```
<‡∏ä‡∏∑‡πà‡∏≠dataset>_dataset.txt
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- `bun_train_dataset.txt`
- `bun_valid_dataset.txt`
- `cls_train_dataset.txt`
- `yolov8_calibration_dataset.txt`

### ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå

‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ absolute path ‡∏Ç‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û):

```
/home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/dataset_cls_stage2/train/class1/image001.jpg
/home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/dataset_cls_stage2/train/class1/image002.jpg
/home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/dataset_cls_stage2/train/class2/image001.jpg
...
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô absolute path (‡∏û‡∏≤‡∏ò‡πÄ‡∏ï‡πá‡∏°) ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û

---

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡∏î‡∏π‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå output

```bash
ls -lh output/
```

### ‡∏î‡∏π‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå

```bash
wc -l output/bun_train_dataset.txt
```

### ‡∏î‡∏π 10 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å

```bash
head -10 output/bun_train_dataset.txt
```

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á

```bash
head -1 output/bun_train_dataset.txt | xargs ls -lh
```

---

## üí° Use Cases ‡πÅ‡∏•‡∏∞ Best Practices

### 1. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö INT8 Quantization (ONNX ‚Üí RKNN)

**‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:** ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û **50-1000 ‡∏£‡∏π‡∏õ** ‡∏à‡∏≤‡∏Å training dataset

```bash
python3 create_dataset_txt.py \
    -i ./bun_stage1_detection/train/images \
    -d bun_calibration \
    -n 500
```

**Output:** `output/bun_calibration_dataset.txt`

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å training dataset?**
- ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
- ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ quantization ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤ weight ‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô
- ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢ accuracy ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å quantization

### 2. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dataset ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å (>10,000 ‡∏£‡∏π‡∏õ) ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:

```bash
python3 create_dataset_txt.py \
    -i ./large_dataset/train \
    -d large_data \
    -n 1000
```

**Output:** `output/large_data_dataset.txt`

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ quantization
- RKNN toolkit ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (500-1000 ‡∏£‡∏π‡∏õ‡∏Å‡πá‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠)

### 3. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-class Classification

```bash
python3 create_dataset_txt.py \
    -i ./dataset_cls_stage2/train \
    -d cls_multi \
    -n 200
```

**Output:** `output/cls_multi_dataset.txt`

**‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:**
```
train/
‚îú‚îÄ‚îÄ class_A/  (‡∏£‡∏π‡∏õ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡πÅ‡∏Å‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
‚îú‚îÄ‚îÄ class_B/
‚îú‚îÄ‚îÄ class_C/
‚îî‚îÄ‚îÄ ...
```

### 4. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö YOLO Detection

```bash
python3 create_dataset_txt.py \
    -i ./bun_stage1_detection/train/images \
    -d yolo_bun \
    -n 800
```

**Output:** `output/yolo_bun_dataset.txt`

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `images` ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `labels`

---

## üõ†Ô∏è Troubleshooting

### ‚ùå Error: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Path ‡∏Ç‡∏≠‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á
ls -la /path/to/folder

# ‡πÉ‡∏ä‡πâ absolute path
python3 create_dataset_txt.py \
    -i /absolute/path/to/images \
    -d mydataset

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ relative path ‡∏à‡∏≤‡∏Å directory ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
python3 create_dataset_txt.py \
    -i ./images \
    -d mydataset
```

### ‚ö†Ô∏è Warning: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
ls /path/to/images

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
# ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö: .jpg, .jpeg, .png, .bmp, .gif, .tiff, .webp
```

### üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏î‡πâ‡∏ß‡∏¢ `-n` ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡πÅ‡∏Å‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏•‡∏ö -n ‡∏≠‡∏≠‡∏Å)
python3 create_dataset_txt.py -i ./images -d mydataset

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏™‡πÅ‡∏Å‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏¢‡πà‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ --no-recursive)
python3 create_dataset_txt.py -i ./images -d mydataset
```

### üìÅ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå output

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á:

```bash
mkdir -p output
```

---

## üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö RKNN Converter

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå dataset.txt ‡πÅ‡∏•‡πâ‡∏ß ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á ONNX ‚Üí RKNN:

### Step 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå dataset

```bash
cd /home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set

python3 create_dataset_txt.py \
    -i ./bun_stage1_detection/train/images \
    -d bun_train \
    -n 500
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** `output/bun_train_dataset.txt`

### Step 2: ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö RKNN Converter

```bash
cd /home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC

# ‡πÅ‡∏õ‡∏•‡∏á ONNX ‡πÄ‡∏õ‡πá‡∏ô RKNN ‡∏û‡∏£‡πâ‡∏≠‡∏° INT8 Quantization
python3 onnx_to_rknn_converter/universal_onnx_to_rknn.py \
    --onnx Model-AI/bun_stage1_detection/best.onnx \
    --rknn Model-AI/bun_stage1_detection/best_int8.rknn \
    --quantize \
    --dataset Data-set/output/bun_train_dataset.txt
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** 
- ‡πÉ‡∏ä‡πâ path ‡πÅ‡∏ö‡∏ö relative ‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
- ‡πÑ‡∏ü‡∏•‡πå dataset.txt ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô `Data-set/output/`

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ Quick Reference

| ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ | Output File |
|-----------|---------------|-------------|
| ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå | `python3 create_dataset_txt.py -i ./train -d mytrain` | `output/mytrain_dataset.txt` |
| ‡∏à‡∏≥‡∏Å‡∏±‡∏î 500 ‡∏£‡∏π‡∏õ | `python3 create_dataset_txt.py -i ./train -d mytrain -n 500` | `output/mytrain_dataset.txt` |
| ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß | `python3 create_dataset_txt.py -i ./images -d mydata --no-recursive` | `output/mydata_dataset.txt` |
| ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö YOLO dataset | `python3 create_dataset_txt.py -i ./train/images -d yolo_train -n 800` | `output/yolo_train_dataset.txt` |
| ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Classification | `python3 create_dataset_txt.py -i ./train -d cls_train -n 200` | `output/cls_train_dataset.txt` |

### ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå

- **Script:** `/home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/create_dataset_txt.py`
- **Output Folder:** `/home/nz/firefly/ONNX_to_RKNN_Guide_EC-R3588SPC/Data-set/output/`
- **Raw Datasets:** 
  - `bun_stage1_detection/` - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö detection
  - `dataset_cls_stage2/` - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö classification

---

## üìö Reference

- **RKNN Toolkit2 Documentation:** [Official Docs](https://github.com/rockchip-linux/rknn-toolkit2)
- **INT8 Quantization Guide:** ‡∏î‡∏π‡πÉ‡∏ô `../Doc/Custom_Model_to_RKNN_Guide_v2.3.2.md`
- **ONNX to RKNN Converter:** ‡∏î‡∏π‡πÉ‡∏ô `../onnx_to_rknn_converter/universal_onnx_to_rknn.py`

---

## üìã Changelog

### Version 2.0 (November 27, 2025)
- ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `--output` ‡πÄ‡∏õ‡πá‡∏ô `--name` parameter
- ‚úÖ ‡πÑ‡∏ü‡∏•‡πå output ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô `output/` folder
- ‚úÖ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô `<name>_dataset.txt`
- ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `output/` ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### Version 1.0 (November 26, 2025)
- ‚úÖ ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏£‡∏Å - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á dataset.txt ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

---

**Last Updated:** November 27, 2025  
**Version:** 2.0  
**Compatible with:** RKNN-Toolkit2 v2.3.0+
